import React, { useEffect, useState } from 'react';
import { Chart } from 'react-google-charts';
import "./CardContains.css";

const CardContainer1 = () => {
  const [chartData, setChartData] = useState([]);

  useEffect(() => {
    // Your JSON data
    const jsonData = {
      "year": {
        "0": 1990, "1": 1991, "2": 1992, "3": 1993, "4": 1994,
        "5": 1995, "6": 1996, "7": 1997, "8": 1998, "9": 1999,
        "10": 2000, "11": 2001, "12": 2002, "13": 2003, "14": 2004,
        "15": 2005, "16": 2006, "17": 2007, "18": 2008, "19": 2009,
        "20": 2010, "21": 2011, "22": 2012, "23": 2013, "24": 2014,
        "25": 2015, "26": 2016, "27": 2017, "28": 2018, "29": 2019,
        "30": 2020, "31": 2021, "32": 2022, "33": 1994, "34": 2000,
        "35": 2007, "36": 2014, "37": 2016, "38": 2020, "39": 2020,
        "40": 2020, "41": 2020, "42": 2020, "43": 2020, "44": 2020,
        "45": 2021, "46": 2021, "47": 2021, "48": 2021, "49": 2021,
        "50": 2021, "51": 2021, "52": 2022, "53": 2022, "54": 2022,
        "55": 2022, "56": 2022, "57": 2022, "58": 2022, "59": 2023,
        "60": 2023, "61": 2023, "62": 2023, "63": 2023, "64": 2023,
        "65": 2023, "66": 2024, "67": 2024, "68": 2024, "69": 2024,
        "70": 2024, "71": 2024, "72": 2024, "73": 2025, "74": 2025,
        "75": 2025, "76": 2025, "77": 2025, "78": 2025, "79": 2025,
        "80": 2026, "81": 2026, "82": 2026, "83": 2026, "84": 2026,
        "85": 2026, "86": 2026, "87": 2027, "88": 2027, "89": 2027,
        "90": 2027, "91": 2027, "92": 2027, "93": 2027, "94": 2028,
        "95": 2028, "96": 2028, "97": 2028, "98": 2028, "99": 2028,
        "100": 2028, "101": 2029, "102": 2029, "103": 2029, "104": 2029,
        "105": 2029, "106": 2029, "107": 2029, "108": 2030, "109": 2030,
        "110": 2030, "111": 2030, "112": 2030, "113": 2030, "114": 2030,
        "115": 2031, "116": 2031, "117": 2031, "118": 2031, "119": 2031,
        "120": 2031, "121": 2031, "122": 2032, "123": 2032, "124": 2032,
        "125": 2032, "126": 2032, "127": 2032, "128": 2032, "129": 2033,
        "130": 2033, "131": 2033, "132": 2033, "133": 2033, "134": 2033,
        "135": 2033, "136": 2034, "137": 2034, "138": 2034, "139": 2034,
        "140": 2034, "141": 2034, "142": 2034, "143": 2035, "144": 2035,
        "145": 2035, "146": 2035, "147": 2035, "148": 2035, "149": 2035,
        "150": 2022, "151": 2022, "152": 2023, "153": 2023, "154": 2024,
        "155": 2024, "156": 2025, "157": 2025, "158": 2026, "159": 2026,
        "160": 2027, "161": 2027, "162": 2028, "163": 2028, "164": 2029,
        "165": 2029, "166": 2030, "167": 2030, "168": 2031, "169": 2031,
        "170": 2032, "171": 2032, "172": 2033, "173": 2033, "174": 2034,
        "175": 2034, "176": 2035, "177": 2035, "178": 2025, "179": 2025,
        "180": 2025, "181": 2025, "182": 2025, "183": 2025, "184": 2030,
        "185": 2030, "186": 2030, "187": 2030, "188": 2030, "189": 2030,
        "190": 2030, "191": 2030, "192": 2030, "193": 2030
      },
      "value": {
        "0": 1142.14, "1": 1190.33, "2": 1232.31, "3": 1258.1, "4": 1307.29,
        "5": 1368.96, "6": 1450.93, "7": 1502.49, "8": 1534.36, "9": 1609.83,
        "10": 1648.52, "11": 1646.0, "12": 1639.71, "13": 1690.78, "14": 1749.44,
        "15": 1811.41, "16": 1894.56, "17": 1996.42, "18": 2113.18, "19": 2273.24,
        "20": 2277.16, "21": 2390.52, "22": 2501.79, "23": 2577.36, "24": 2693.53,
        "25": 2876.47, "26": 3010.04, "27": 3137.61, "28": 3250.38, "29": 3284.16,
        "30": 3113.34, "31": 3376.71, "32": 3515.67, "33": 14.0, "34": -223.0,
        "35": -177.0, "36": -301.0, "37": -308.0, "38": 3367.13, "39": 3361.01,
        "40": 3370.09, "41": 3357.03, "42": 3341.3, "43": 3318.84, "44": 3402.48,
        "45": 3339.64, "46": 3389.59, "47": 3596.36, "48": 3511.97, "49": 3429.84,
        "50": 3089.86, "51": 3691.09, "52": 3312.16, "53": 3418.17, "54": 3434.6,
        "55": 3450.63, "56": 3462.97, "57": 3458.91, "58": 3458.72, "59": 3495.27,
        "60": 3418.1, "61": 3398.15, "62": 3430.96, "63": 3454.09, "64": 3488.4,
        "65": 3535.82, "66": 3501.6, "67": 3490.86, "68": 3478.89, "69": 3521.84,
        "70": 3520.68, "71": 3530.92, "72": 3481.29, "73": 3514.95, "74": 3523.78,
        "75": 3524.84, "76": 3527.08, "77": 3519.63, "78": 3544.97, "79": 3548.13,
        "80": 3555.15, "81": 3558.2, "82": 3547.7, "83": 3538.6, "84": 3562.7,
        "85": 3554.5, "86": 3552.0, "87": 3540.0, "88": 3543.7, "89": 3549.6,
        "90": 3542.9, "91": 3545.8, "92": 3549.0, "93": 3550.3, "94": 3552.5,
        "95": 3545.1, "96": 3547.8, "97": 3550.6, "98": 3552.3, "99": 3555.0,
        "100": 3557.0, "101": 3549.2, "102": 3548.5, "103": 3549.8, "104": 3551.0,
        "105": 3550.4, "106": 3548.6, "107": 3550.9, "108": 3550.0, "109": 3551.4,
        "110": 3549.7, "111": 3550.8, "112": 3548.8, "113": 3550.7, "114": 3549.3,
        "115": 3551.2, "116": 3548.9, "117": 3551.5, "118": 3549.1, "119": 3550.1,
        "120": 3548.7, "121": 3550.2, "122": 3549.4, "123": 3551.1, "124": 3548.4,
        "125": 3550.5, "126": 3549.9, "127": 3550.3, "128": 3549.5, "129": 3551.3,
        "130": 3548.3, "131": 3550.6, "132": 3548.2, "133": 3550.0, "134": 3549.8,
        "135": 3551.7, "136": 3548.1, "137": 3550.4, "138": 3548.0, "139": 3550.1,
        "140": 3548.7, "141": 3550.2, "142": 3549.6, "143": 3551.4, "144": 3548.5,
        "145": 3550.8, "146": 3548.4, "147": 3550.7, "148": 3549.2, "149": 3551.1,
        "150": 3548.3, "151": 3550.6, "152": 3549.1, "153": 3550.5, "154": 3548.2,
        "155": 3550.4, "156": 3549.0, "157": 3550.3, "158": 3548.9, "159": 3550.2,
        "160": 3548.1, "161": 3550.1, "162": 3548.0, "163": 3550.0, "164": 3549.9,
        "165": 3550.7, "166": 3548.8, "167": 3550.8, "168": 3549.7, "169": 3550.6,
        "170": 3549.5, "171": 3550.9, "172": 3549.4, "173": 3551.0, "174": 3549.3,
        "175": 3550.5, "176": 3549.8, "177": 3550.4, "178": 3551.3, "179": 3549.6,
        "180": 3550.2, "181": 3549.7, "182": 3550.1, "183": 3550.0, "184": 3548.9,
        "185": 3550.8, "186": 3549.1, "187": 3550.7, "188": 3549.2, "189": 3551.1,
        "190": 3548.7, "191": 3550.6, "192": 3549.3, "193": 3551.0
      }
    };

    // Transform JSON data to Google Charts format
    const transformedData = [['Year', 'Value']]; // Column headers

    // Extract year and value arrays from jsonData
    const years = Object.values(jsonData.year);
    const values = Object.values(jsonData.value);

    // Ensure that year and value arrays have the same length
    if (years.length === values.length) {
      for (let i = 0; i < years.length; i++) {
        transformedData.push([years[i], values[i]]);
      }
      setChartData(transformedData);
    } else {
      console.error('Mismatch in length of year and value arrays');
    }

  }, []);

  const options = {
    title: 'Yearly Data',
    hAxis: { title: 'Year' },
    vAxis: { title: 'Value' },
    legend: 'none',
  };

  if (chartData.length <= 1) {
    return <div>Loading data or data format error...</div>;
  }

  return (
    <div className="chart-container">
    <Chart
      chartType="Bar"
      data={chartData}
      width="100%"
      height="400px"
      options={options}
    />
    </div>
  );
};

export default CardContainer1;
